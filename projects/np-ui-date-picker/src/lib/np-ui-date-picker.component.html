<div class="np-component-main">
    <div class="np-input-group" *ngIf="!defaultOpen">
        <input class="np-component-input" type="text" [ngModel]="_selectedDate | date: _format"
            [ngClass]="{'np-invalid-date': !_isValidDate}" [readonly]="true" [disabled]="disabled"
            (click)="_toggleDatePicker()" placeholder="{{placeholder}}">
        <button type="button" class="np-component-button" (click)="_toggleDatePicker()" [disabled]="disabled">
            <i class="demo-icon icon-calendar"></i>
        </button>
        <div *ngIf="!_isValidDate" class="np-error-message">Invalid Date</div>
    </div>
    <div *ngIf="_isOpen || defaultOpen" class="np-component-div" [ngClass]="{'np-open-component': defaultOpen}">
        <table style="width:100%">
            <tr>
                <td>
                    <button type="button" class="np-component-button" (click)="_prevMonth()"
                        [disabled]="_disablePrevButton">
                        <i class="demo-icon icon-left"></i>
                    </button>
                </td>
                <td>

                    <select (change)="_selectMonth($event)">
                        <option *ngFor="let month of _months" value="{{month.key}}"
                            [selected]="month.key == _currentMonth">
                            {{month.value}}
                        </option>
                    </select>
                </td>
                <td>
                    <button type="button" class="np-component-button" (click)="_nextMonth()"
                        [disabled]="_disableNextButton">
                        <i class="demo-icon icon-right np-component-button"></i>
                    </button>
                </td>
                <td>
                    <select (change)="_selectYear($event)">
                        <option *ngFor="let year of _years" value="{{year}}" [selected]="year == _currentYear">{{year}}
                        </option>
                    </select>
                </td>
            </tr>
        </table>
        <table class="tbl-days">
            <tr>
                <td class="np-days" *ngFor="let day of _weekDays">{{day}}</td>
            </tr>
            <tr>
                <td *ngFor="let day of _daysArrayFromTo(0, 7)"
                    [ngClass]="{'selected': day == _selectedDay && _currentMonth == _selectedMonth && _currentYear == _selectedYear,
                        'np-today-bg':day == _todayDate && _currentMonth == _todayMonth && _currentYear == _todayYear }" (click)="_onSelectDate(day)">
                    {{day}}
                </td>
            </tr>
            <tr>
                <td *ngFor="let day of _daysArrayFromTo(7, 14)" [ngClass]="{'selected': day == _selectedDay && _currentMonth == _selectedMonth && _currentYear == _selectedYear,
                    'np-today-bg':day == _todayDate && _currentMonth == _todayMonth && _currentYear == _todayYear }"
                    (click)="_onSelectDate(day)">
                    {{day}}
                </td>
            </tr>
            <tr>
                <td *ngFor="let day of _daysArrayFromTo(14, 21)" [ngClass]="{'selected': day == _selectedDay && _currentMonth == _selectedMonth && _currentYear == _selectedYear,
                    'np-today-bg':day == _todayDate && _currentMonth == _todayMonth && _currentYear == _todayYear }"
                    (click)="_onSelectDate(day)">
                    {{day}}
                </td>
            </tr>
            <tr>
                <td *ngFor="let day of _daysArrayFromTo(21, 28)" [ngClass]="{'selected': day == _selectedDay && _currentMonth == _selectedMonth && _currentYear == _selectedYear,
                    'np-today-bg':day == _todayDate && _currentMonth == _todayMonth && _currentYear == _todayYear }"
                    (click)="_onSelectDate(day)">
                    {{day}}
                </td>
            </tr>
            <tr>
                <td *ngFor="let day of _daysArrayFromTo(28, 35)" [ngClass]="{'selected': day == _selectedDay && _currentMonth == _selectedMonth && _currentYear == _selectedYear,
                    'np-today-bg':day == _todayDate && _currentMonth == _todayMonth && _currentYear == _todayYear }"
                    (click)="_onSelectDate(day)">
                    {{day}}
                </td>
            </tr>
            <tr *ngIf="_days.length > 35 && _days[35] != null">
                <td *ngFor="let day of _daysArrayFromTo(35, 42)" [ngClass]="{'selected': day == _selectedDay && _currentMonth == _selectedMonth && _currentYear == _selectedYear,
                    'np-today-bg':day == _todayDate && _currentMonth == _todayMonth && _currentYear == _todayYear }"
                    (click)="_onSelectDate(day)">
                    {{day}}
                </td>
            </tr>
        </table>
    </div>
</div>